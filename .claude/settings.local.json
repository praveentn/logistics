{
  "permissions": {
    "allow": [
      "Bash(docker-compose logs:*)",
      "Bash(docker-compose down:*)",
      "Bash(docker-compose build:*)",
      "Bash(docker-compose up:*)",
      "Bash(docker-compose ps:*)",
      "Bash(curl:*)",
      "Bash(python -m json.tool:*)",
      "Bash(wc:*)",
      "Bash(python -c:*)",
      "Bash(\"c:\\\\Users\\\\praveen\\\\expts\\\\logistics\\\\services\\\\tracking-service\\\\Dockerfile\" << 'EOF'\n# Multi-stage Dockerfile for Tracking Service\nFROM python:3.11-slim as base\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\n    gcc \\\\\n    postgresql-client \\\\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY services/tracking-service/requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy shared utilities\nCOPY shared/ ./shared/\n\n# Copy application code\nCOPY services/tracking-service/app/ ./app/\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port\nEXPOSE 8002\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \\\\\n    CMD python -c \"import urllib.request; urllib.request.urlopen\\('http://localhost:8002/health'\\)\"\n\n# Run the application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8002\"]\nEOF)",
      "Bash(\"c:\\\\Users\\\\praveen\\\\expts\\\\logistics\\\\services\\\\notification-service\\\\Dockerfile\" << 'EOF'\n# Multi-stage Dockerfile for Notification Service\nFROM python:3.11-slim as base\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\n    gcc \\\\\n    postgresql-client \\\\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY services/notification-service/requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy shared utilities\nCOPY shared/ ./shared/\n\n# Copy application code\nCOPY services/notification-service/app/ ./app/\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port\nEXPOSE 8004\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \\\\\n    CMD python -c \"import urllib.request; urllib.request.urlopen\\('http://localhost:8004/health'\\)\"\n\n# Run the application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8004\"]\nEOF)",
      "Bash(\"c:\\\\Users\\\\praveen\\\\expts\\\\logistics\\\\services\\\\api-gateway\\\\Dockerfile\" << 'EOF'\n# Multi-stage build for API Gateway\nFROM python:3.11-slim as builder\n\nWORKDIR /build\n\n# Install build dependencies\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\n    gcc \\\\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements and install dependencies\nCOPY services/api-gateway/requirements.txt .\nRUN pip install --user --no-cache-dir -r requirements.txt\n\n\n# Final stage\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Create non-root user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Copy installed dependencies from builder\nCOPY --from=builder /root/.local /home/appuser/.local\n\n# Copy shared utilities\nCOPY shared/ ./shared/\n\n# Copy application code\nCOPY services/api-gateway/app/ ./app/\n\n# Set ownership\nRUN chown -R appuser:appuser /app\n\n# Switch to non-root user\nUSER appuser\n\n# Add local bin to PATH\nENV PATH=/home/appuser/.local/bin:$PATH\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\\\n    CMD python -c \"import httpx; httpx.get\\('http://localhost:8000/health', timeout=5.0\\)\"\n\n# Run the application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\nEOF)",
      "Bash(\"c:\\\\Users\\\\praveen\\\\expts\\\\logistics\\\\services\\\\dashboard\\\\Dockerfile\" << 'EOF'\n# Multi-stage Dockerfile for Dashboard Service\nFROM python:3.11-slim as base\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\n    gcc \\\\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY services/dashboard/requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy shared utilities\nCOPY shared/ ./shared/\n\n# Copy application code\nCOPY services/dashboard/app/ ./app/\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port\nEXPOSE 8080\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \\\\\n    CMD python -c \"import urllib.request; urllib.request.urlopen\\('http://localhost:8080/health'\\)\"\n\n# Run the application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8080\"]\nEOF)",
      "Bash(\"c:\\\\Users\\\\praveen\\\\expts\\\\logistics\\\\services\\\\order-service\\\\Dockerfile\" << 'EOF'\n# Multi-stage Dockerfile for Order Service\nFROM python:3.11-slim as base\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y --no-install-recommends \\\\\n    gcc \\\\\n    postgresql-client \\\\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements\nCOPY services/order-service/requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy shared utilities\nCOPY shared/ ./shared/\n\n# Copy application code\nCOPY services/order-service/app/ ./app/\n\n# Create non-root user\nRUN useradd -m -u 1000 appuser && chown -R appuser:appuser /app\nUSER appuser\n\n# Expose port\nEXPOSE 8001\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=10s --start-period=40s --retries=3 \\\\\n    CMD python -c \"import urllib.request; urllib.request.urlopen\\('http://localhost:8001/health'\\)\"\n\n# Run the application\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8001\"]\nEOF)",
      "Bash(Start-Sleep -Seconds 30)",
      "Bash(powershell -Command \"$body = @{warehouse_code=''WH-001''; name=''Main Warehouse''; location=''New York, NY''; capacity=10000} | ConvertTo-Json; Invoke-RestMethod -Uri ''http://localhost:8003/api/v1/warehouses'' -Method Post -Body $body -ContentType ''application/json''\")",
      "Bash(python test_api.py:*)",
      "Bash(pip install:*)",
      "Bash(docker-compose restart:*)",
      "Bash(docker exec:*)",
      "Bash(powershell:*)",
      "Bash(dir:*)",
      "Bash(kubectl kustomize:*)"
    ]
  }
}
